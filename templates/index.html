<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <script type="text/javascript"></script>
  <title>CoEx Browser</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

  <!-- jQuery -->
  <script   src="https://code.jquery.com/jquery-2.2.4.min.js"   integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="   crossorigin="anonymous"></script>
  
  <!-- Cytoscape and Extensions -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/2.6.12/cytoscape.min.js"></script>

  <!-- Bootstrap-->
  <!-- JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
  integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
  crossorigin="anonymous"></script>
  <!-- CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
  integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <!-- Optional Theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
  integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

  <!-- DataTables, found using their package builder -->
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/u/bs/dt-1.10.12,sc-1.4.2,se-1.2.0/datatables.min.css"/>
  <script type="text/javascript" src="https://cdn.datatables.net/u/bs/dt-1.10.12,sc-1.4.2,se-1.2.0/datatables.min.js"></script>
  

  <!-- Loaf COB -->
  <script>
    var $SCRIPT_ROOT = (window.location.href).replace(/\/?$/, '/');
    $('<link/>', {
      rel: 'shortcut icon', 
      href: ($SCRIPT_ROOT + 'static/favicon.ico')
    }).appendTo('head');
    
    // Set some global variables for reference
    var CurrentOntology = "";
    var CurrentTerm = "";
    var CurrentNetwork = "";
    var cy = null;
    var cyDataCache = null;
    
    // Load in the core scripts
    $(document).ready(function(){
        $.getScript(($SCRIPT_ROOT + 'static/js/cob.js'), function(){
          $.getScript(($SCRIPT_ROOT + 'static/js/polywas-layout.js'), function(){
              tableMaker('Ontology');
          });
        });
    });
  </script>
  
  <style>
    #cob {
      float: left;
      width: 33%;
      height: 100%
    }
    #cobHead{
      float: left;
      width: 100%;
    }
    #cyWait {
      float: left;
      width: 67%;
    }
    #cy {
      width: 67%;
      height: 100%;
      position: absolute;
      left: 33%;
      top: 0;
      z-index: 999;
    }
    .OntologyTitle, .TermTitle, .NetworkTitle, .GeneTitle {
      float: left;
      font-size: x-large;
    }
    table {
      background-color: white;
    }
  </style>
</head>

<!-- Actual Body -->
<body>
  
<!-- Modal -->
<style></style>
<div class="modal fade" id="cytoWait" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header"><h4 class="modal-title"><b>Please Wait For Layout</b></h4></div>
        <div class="modal-body" id="geneStatus">
          <div id="geneMsg">
            <p>We are now getting the node data and running the layout algorithm.</p>
            
            For bigger networks this can take up to 30 seconds so please be patient, 
            the page goes unresponsive while processing the layout, if you're just 
            updating the parameters, this will be much faster.
          </div>
        </div>
    </div>
  </div>
</div>

<!-- Selection Column -->
<div id='cob' class='container'>
  <div id='cobHead' class='bg-primary well-sm'><h1>CoEx Browser</h1></div>

<div>
  <!-- Tab List -->
  <ul class="nav nav-tabs" role="tablist" id="navTabs">
    <li role="presentation" class="active"><a href="#networks" aria-controls="networks" role="tab" data-toggle="tab">Network</a></li>
    <li role="presentation"><a aria-controls="params" href="#params" role="tab" data-toggle="tab">Parameters</a></li>
    <li role="presentation"><a aria-controls="genes" href="#genes" role="tab" data-toggle="tab">Genes</a></li>
  </ul>
  
  <!-- Section for all of the Tab Content -->
  <div class="tab-content">
    
    <!-- Network Selection Tab -->
    <div role="tabpanel" class="tab-pane active" id="networks">

    <!-- Section For Ontology Selection -->
      <br><div id="Ontology">
          <h5 id="OntologyWait" class="">Are we gathering the datasets?, please wait.</h5>
          <table class="table table-hover hidden" id="OntologyTable">
            <thead>
              <tr>
                <th>Ontology</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
      </div>
      
      <!-- Section For Term Selection -->
      <br><div id="Term">
          <h5 id="TermWait" class="">This table will appear once you select an attribute above.</h5>
          <table class="table table-hover hidden" id="TermTable">
            <thead>
              <tr>
                <th>Name</th>
                <th>Desc</th>
                <th>SNPs</th>
                <th>Genes</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
      </div>
      
      <!-- Section For Network Selection -->
      <br><div id="Network">
        <h5 id="NetworkWait" class="">This table will populate once you select an attribute above.</h5>
          <table class="table table-hover hidden" id="NetworkTable">
            <thead>
              <tr>
                <th>Network</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
      <!-- End Network Selection Tab -->
      
      <!-- Parameter Adjustment Tab -->
      <div role="tabpanel" class="tab-pane" id="params"><br>
        <div id='Graph Params' class="form-group">
            <form class="" id="graphParams">
                <label class="" for="nodeCutoff">Min Node Degree</label>
                <input type="text" class="form-control" id="nodeCutoff" value="1" size="2" pattern="[0-9]+"><br>
                <label class="" for="edgeCutoff">Min Edge Score</label>
                <input type="text" class="form-control" id="edgeCutoff" value="3.0" size="4" pattern="([0-9]+[0-9]|[3-9])\.*[0-9]*"><br>
                <input type="button" class="btn btn-primary" id="updateButton" value="Update">
            </form>
        </div>
      </div>
      <!-- End Parameter Adjustment Tab -->
      
      <!-- Gene Table Tab -->
      <div role="tabpanel" class="tab-pane" id="genes"><br>
        <table class="table table-hover hidden" id="GeneTable">
          <thead>
            <tr>
              <th>ID</th>
              <th>Local Degree</th>
              <th>Global Degree</th>
              <th>Chrom</th>
              <th>SNP</th>
              <th>Start</th>
              <th>End</th>
              <th>Num Intervening</th>
              <th>Rank Intervening</th>
              <th>Num Siblings</th>
              <!--<th>Parent Iterations</th>
              <th>Parent Avg Effect</th>-->
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <!-- End Gene Table Tab -->
      
    </div>
  </div>
</div>

<!-- Box for Cytoscape Column -->
<h2 id='cyWait' class='container'>Please select an ontology, then a term, and finally a network, at which point the network will be shown here.</h2>
<div id='cy' class=''></div>
</body>
</html>
